# Beispiel Makefile

BLZ3_LIB		= @BLZ3_LIB@
BLZ3_BIN		= @BLZ3_BIN@
CPPFLAGS		= @CPPFLAGS@
LDFLAGS			= @LDFLAGS@
LIBS			= @LIBS@
prefix			= @prefix@
exec_prefix		= @exec_prefix@

PRG_SOURCE		= brt3.cc bimg3.cc bconv3.cc bhc.cc rp.cc

BRT3_OBJS		= brt3.o
BIMG3_OBJS		= bimg3.o
BCONV3_OBJS		= bconv3.o
BHC_OBJS		= bhc.o
RP_OBJS			= rp.o

PRGS			= brt3 bimg3 bconv3 bhc rp

all:	$(PRGS)

install:	$(PRGS)
	install -m 755 $^ @bindir@

depend:
	gcc -M  $(PRG_SOURCE) $(CPPFLAGS) >.dep

clean:
	rm -f *.o *.bak *~ core $(PRGS) ALL QUIET
	(cd $(BLZ3_BIN); rm -f $(PRGS); )

brt3:	$(BRT3_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Raytrace -lB3Base $(LIBS)

bimg3:	$(BIMG3_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

bconv3:	$(BCONV3_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

bhc:	$(BHC_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Raytrace -lB3Base $(LIBS)

rp:	$(RP_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Raytrace -lB3Base $(LIBS)

-include .dep
