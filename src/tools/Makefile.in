# Beispiel Makefile

BLZ3_LIB		= @BLZ3_LIB@
BLZ3_BIN		= @BLZ3_BIN@
CPPFLAGS		= @CPPFLAGS@
LDFLAGS			= @LDFLAGS@
LIBS			= @LIBS@
prefix			= @prefix@
exec_prefix		= @exec_prefix@

PRG_SOURCE		= RestoreExt.cc CleanRes.cc scale.cc calibrate.cc testimg.cc half.cc pw.cc divx.cc reduce.cc

RESTOREEXT_OBJS		= RestoreExt.o
CLEANRES_OBJS		= CleanRes.o
SCALE_OBJS		= scale.o
HALF_OBJS		= half.o
CALIBRATE_OBJS		= calibrate.o
TESTIMG_OBJS		= testimg.o
PW_OBJS			= pw.o
DIVX_OBJS		= divx.o
REDUCE_OBJS		= reduce.o

PRGS			= RestoreExt CleanRes testimg scale calibrate half pw reduce divx

all:	$(PRGS)

install:	$(PRGS)
	install -m 755 $^ @bindir@

depend:
	gcc -M $(CPPFLAGS) $(PRG_SOURCE) >.dep

clean:
	rm -f *.o *.bak *~ core $(PRGS) ALL QUIET
	(cd $(BLZ3_BIN); rm -f $(PRGS); )

RestoreExt:	$(RESTOREEXT_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

CleanRes:	$(CLEANRES_OBJS)
	$(LINK.cc) -o $@ $^ -lB3System -lpthread

scale:	$(SCALE_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

half:	$(HALF_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

pw:	$(PW_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

divx:	$(DIVX_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

testimg:	$(TESTIMG_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

calibrate:	$(CALIBRATE_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

reduce:	$(REDUCE_OBJS)
	$(LINK.cc) -o $@ $^ -lB3Base $(LIBS)

-include .dep
